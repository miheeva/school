!function(r){"use strict";var t=r("[data-paroller-factor]"),o={bgVertical:function(r,t){return r.css({"background-position":"center "+-t+"px"})},bgHorizontal:function(r,t){return r.css({"background-position":-t+"px center"})},vertical:function(r,t){return r.css({"-webkit-transform":"translateY("+t+"px)","-moz-transform":"translateY("+t+"px)",transform:"translateY("+t+"px)"})},horizontal:function(r,t){return r.css({"-webkit-transform":"translateX("+t+"px)","-moz-transform":"translateX("+t+"px)",transform:"translateX("+t+"px)"})}};r.fn.paroller=function(a){var n=r(window).height(),e=r(document).height(),a=r.extend({factor:0,type:"background",direction:"vertical"},a);t.each(function(){var t=!1,i=r(this),c=i.offset().top,l=i.outerHeight(),s=i.data("paroller-factor"),u=i.data("paroller-type"),f=i.data("paroller-direction"),d=s||a.factor,p=u||a.type,h=f||a.direction,g=Math.round(c*d),b=Math.round((c-n/2+l)*d);"background"==p?"vertical"==h?o.bgVertical(i,g):"horizontal"==h&&o.bgHorizontal(i,g):"foreground"==p&&("vertical"==h?o.vertical(i,b):"horizontal"==h&&o.horizontal(i,b));var v=function(){t=!1};r(window).on("scroll",function(){if(!t){var a=r(this).scrollTop();g=Math.round((c-a)*d),b=Math.round((c-n/2+l-a)*d),"background"==p?"vertical"==h?o.bgVertical(i,g):"horizontal"==h&&o.bgHorizontal(i,g):"foreground"==p&&a<e&&("vertical"==h?o.vertical(i,b):"horizontal"==h&&o.horizontal(i,b)),window.requestAnimationFrame(v),t=!0}}).trigger("scroll")})}}(jQuery);